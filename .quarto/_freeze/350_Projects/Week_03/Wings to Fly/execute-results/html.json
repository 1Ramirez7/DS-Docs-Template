{
  "hash": "92b5249ceaabff1476407374ac3ca9a7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Wings to Fly\"\n\neditor: visual\nexecute:\n  keep-md: true\n\ndate: \"October 30, 2024\"\nwarnings: false\nformat:\n  html:\n    df-print: paged\n    code-fold: true\n    code-line-numbers: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Libraries\nif (!require(\"pacman\")) install.packages(\"pacman\")\npacman::p_load(nycflights13, tidyverse)\n```\n:::\n\n\n\n## Which origin airport is best to minimize my chances of a late arrival when I am using Delta Airlines?\n\nI filtered the data to include only Delta Airlines flights and calculated the percentage of delayed arrivals. Then, I created a bar chart to display these percentages. The chart shows that JFK has the lowest probability of arrival delays, indicating that I have a minimal chance of experiencing a late arrival when flying with Delta Airlines.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights_clean <- flights %>% \n  filter(carrier == \"DL\") %>% \n  group_by(origin) %>% \n  mutate(late_arrival = ifelse(arr_delay >= 1, 1,0))\n\npercentage <- flights_clean %>% \n  group_by(origin) %>% \n  summarise(total_flight = n(),\n            late_arrival_count = sum(late_arrival, na.rm = TRUE),\n            percentage_delay = (late_arrival_count / total_flight) * 100) %>% ungroup \n\nggplot( data = percentage, mapping = aes(x = origin, y = percentage_delay, fill = origin)) +\n  geom_bar(stat = \"identity\") +\n  geom_text(aes(label = paste0(round(percentage_delay, 1), \"%\")), \n            position = position_stack(vjust = 1.05),  \n            size = 3.5,\n            color = \"black\") +\n  labs(x = \"Origin\", y = \"Percentage of Late Arrival\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](Wings-to-Fly_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n\n## Which destination airport is the worst airport for arrival delays? You decide on the metric for “worst.”\n\nFirst, we need to establish a metric for what constitutes \"worse.\" I have chosen to calculate this by subtracting the departure delay from the arrival delay to determine the delay that occurred during airtime. Since longer flights face additional disadvantages, I divided the delayed2 by the distance in miles to create the metric \"delay per mile.\" According to this calculation, the top 10 delays per mile occurred at Philadelphia International Airport (PHL).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflights2 <- flights %>% \n  mutate(delayed2 = arr_delay - dep_delay) %>% \n  mutate(delayed_mile = delayed2 / distance) \n\nflights3<- flights2 %>% \n  select(delayed_mile, dest) %>% \n  arrange(desc(delayed_mile)) %>%  \n  head(10)\n\nflights3\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"delayed_mile\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"dest\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"1.1808511\",\"2\":\"PHL\"},{\"1\":\"1.0851064\",\"2\":\"PHL\"},{\"1\":\"1.0833333\",\"2\":\"PHL\"},{\"1\":\"1.0729167\",\"2\":\"PHL\"},{\"1\":\"1.0416667\",\"2\":\"PHL\"},{\"1\":\"0.8829787\",\"2\":\"PHL\"},{\"1\":\"0.8404255\",\"2\":\"PHL\"},{\"1\":\"0.8297872\",\"2\":\"PHL\"},{\"1\":\"0.7765957\",\"2\":\"PHL\"},{\"1\":\"0.7395833\",\"2\":\"PHL\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\nI also want to look at the average delay per mile. when looking at the average delay per mile, Columbia Metropolitan Airport(CAE) had the worst average delay per mile followed by EYW AND XNA.\n\n::: {.cell}\n\n```{.r .cell-code}\navg_delay <- flights2 %>% \n  group_by(dest) %>% \n  summarise(average_delay = mean(delayed2, na.rm = TRUE)) %>% \n  ungroup() %>% \n  arrange(desc(average_delay)) %>% \n  slice_head(n = 4)\n\nggplot(data = avg_delay, aes(x = dest, y = average_delay, fill = \"orange\")) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Destination\", y = \"Average Delay\") + \n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](Wings-to-Fly_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Wings-to-Fly_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}